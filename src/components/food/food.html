<ion-item-sliding #item>

    <button ion-item (click)="doClick()">
        <ion-label>
            {{ food.name }},  {{ food.manufacturer }}
        </ion-label>

        <div item-content>

            <div *ngIf="editMode && !currentlySelected" [@fadeInOut]>
                <food-editor (editFinished)="editFinishedCallback($event)" [food]="food"></food-editor>
            </div>

            <div *ngIf="selectionMode" [@fadeInOut]>
                <food-selection [currentlySelected]="currentlySelected" (selectionFinished)="selectionFinishedCallback($event)" [food]="food"></food-selection>
            </div>
            
        </div>
    </button>

    <ion-item-options *ngIf="!editMode && !selectionMode" side="right">

        <!-- Favorite food -->
        <button ion-button color="light" (click)="favorite(item, true)" *ngIf="!food.source_name && !food.favorite && !currentlySelected"><ion-icon name="heart"></ion-icon>Favorite</button>

        <!-- Unfavorite food -->
        <button ion-button color="light" (click)="favorite(item, false)" *ngIf="!food.source_name && food.favorite && !currentlySelected"><ion-icon name="heart-outline"></ion-icon>Unfav</button>
    
        <!-- Edit food -->
        <button ion-button color="light" (click)="edit(item)" *ngIf="!food.source_name && !currentlySelected"><ion-icon name="create"></ion-icon>Edit</button> 

        <!-- Delete food -->
        <button ion-button color="danger" (click)="delete(item)" *ngIf="!food.source_name && !currentlySelected"><ion-icon name="trash"></ion-icon>Delete</button> 

        <!-- Save remove food to local foods -->
        <button ion-button color="secondary" (click)="save(item)" *ngIf="!!food.source_name && !food.id && !currentlySelected">
            <ion-icon name="cloud-download"></ion-icon>Save
        </button>

        <!-- Remove from food selected list -->
        <button ion-button color="danger" (click)="unselect(item)" *ngIf="currentlySelected"><ion-icon name="remove"></ion-icon>Remove</button> 

    </ion-item-options>

</ion-item-sliding>

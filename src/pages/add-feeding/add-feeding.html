<ion-header>

  <ion-toolbar color="light">

    <ion-searchbar
    [(ngModel)]="resultSearchString"
    [showCancelButton]="false" [animated]="true" [debounce]="400"
    (ionInput)="onInput($event)"
    (ionCancel)="onCancel($event)"></ion-searchbar>

  </ion-toolbar>

  <ion-segment [(ngModel)]="food_tab" color="primary">
    
    <ion-segment-button value="favorite" (ionSelect)="switchToFavorite()">
        Favorite
    </ion-segment-button>

    <ion-segment-button value="recent" (ionSelect)="switchToRecent()">
      Normal
    </ion-segment-button>

    <ion-segment-button value="internet" (ionSelect)="switchToInternet()">
      From Internet
    </ion-segment-button>

  </ion-segment>
</ion-header>


<ion-content>
  <ion-list class="result-food-list">
    <food-component [currentlySelected]="false" *ngFor="let food of resultFoods" (foodSelection)="selectedFood($event)" (foodChanges)="refresh(food)" (foodMessage)="foodActionMessage($event)" [food]="food"></food-component>
  </ion-list>
</ion-content>



<ion-pullup
  *ngIf="foodSelected.length > 0"
  (onExpand)="footerExpanded()" (onCollapse)="footerCollapsed()" [(state)]="footerState">

  <ion-toolbar color="light" (tap)="toggleFooter()">
    <ion-title text-center><ion-icon class="toolbar-icon" name="more"></ion-icon></ion-title>
  </ion-toolbar>
  <ion-content>
    <ion-list>
      <ion-list-header>
        Food selected
      </ion-list-header>
      <food-component [currentlySelected]="true" 
      *ngFor="let food of foodSelected" [food]="food" (foodClick)="foodSelected(food)"
      (foodUnSelection)="unselectedFood($event)"></food-component>
    </ion-list>
  </ion-content>
</ion-pullup>
  
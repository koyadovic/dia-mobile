<ion-header>

  <ion-navbar>
    <ion-title>Planning Editor</ion-title>

    <ion-buttons end>
      <button ion-button icon-only (click)="save()">
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>

</ion-header>


<ion-content *ngIf="planning">

  <ion-list>

    <ion-item>
      <ion-label stacked>Name</ion-label>
      <ion-input type="text" [(ngModel)]="planning.name"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>Type</ion-label>
      <ion-select [(ngModel)]="planning.type" (ionChange)="updateTypeData()">
        <ion-option [value]="'physical_activity'">Physical Activity</ion-option>
        <ion-option [value]="'medication_take'">Medication Take</ion-option>
      </ion-select>
    </ion-item>

    <button ion-item (click)="definePlanning()">
      <ion-icon name="settings" item-start></ion-icon>
      Redefine: {{ planning.data | json }}
    </button>

    <ion-item>
      <ion-icon name="time" item-start></ion-icon>
      <ion-label>Time</ion-label>
      <ion-datetime displayFormat="HH:mm" [(ngModel)]="datetimeTime" (ionChange)="timeChanged()"></ion-datetime>
    </ion-item>

    <ion-list-header>
      Weekdays
    </ion-list-header>

    <button ion-item (click)="planning.mon = !planning.mon">
      <ion-icon name="calendar" item-start></ion-icon>
      <ion-label>Monday</ion-label>
      <div item-content>
        <ion-toggle [(ngModel)]="planning.mon" (click)="planning.mon = !planning.mon"></ion-toggle>
      </div>
    </button>

    <button ion-item (click)="planning.tue = !planning.tue">
      <ion-icon name="calendar" item-start></ion-icon>
      <ion-label>Tuesday</ion-label>
      <div item-content>
        <ion-toggle [(ngModel)]="planning.tue" (click)="planning.tue = !planning.tue"></ion-toggle>
      </div>
    </button>

    <button ion-item (click)="planning.wed = !planning.wed">
      <ion-icon name="calendar" item-start></ion-icon>
      <ion-label>Wednesday</ion-label>
      <div item-content>
        <ion-toggle [(ngModel)]="planning.wed" (click)="planning.wed = !planning.wed"></ion-toggle>
      </div>
    </button>

    <button ion-item (click)="planning.thu = !planning.thu">
      <ion-icon name="calendar" item-start></ion-icon>
      <ion-label>Thursday</ion-label>
      <div item-content>
        <ion-toggle [(ngModel)]="planning.thu" (click)="planning.thu = !planning.thu"></ion-toggle>
      </div>
    </button>

    <button ion-item (click)="planning.fri = !planning.fri">
      <ion-icon name="calendar" item-start></ion-icon>
      <ion-label>Friday</ion-label>
      <div item-content>
        <ion-toggle [(ngModel)]="planning.fri" (click)="planning.fri = !planning.fri"></ion-toggle>
      </div>
    </button>

    <button ion-item (click)="planning.sat = !planning.sat">
      <ion-icon name="calendar" item-start></ion-icon>
      <ion-label>Saturday</ion-label>
      <div item-content>
        <ion-toggle [(ngModel)]="planning.sat" (click)="planning.sat = !planning.sat"></ion-toggle>
      </div>
    </button>

    <button ion-item (click)="planning.sun = !planning.sun">
      <ion-icon name="calendar" item-start></ion-icon>
      <ion-label>Sunday</ion-label>
      <div item-content>
        <ion-toggle [(ngModel)]="planning.sun" (click)="planning.sun = !planning.sun"></ion-toggle>
      </div>
    </button>

  </ion-list>

</ion-content>
